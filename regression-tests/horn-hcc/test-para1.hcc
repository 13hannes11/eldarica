int gid;

thread[id] Proc {
  gid = id;
  assert (gid == id);
}